{
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://anl-ceeesa.github.io/RELOG/input",
    "title": "Schema for RELOG Input File",
    "definitions": {
        "TimeSeries": {
            "type": "array",
            "items": {
                "type": "number"
            }
        },
        "Parameters": {
            "type": "object",
            "properties": {
                "Time horizon (years)": { "type": "number" }
            },
            "required": [
                "Time horizon (years)"
            ]
        },
        "Plant": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "properties": {
                    "Input": { "type": "string" },
                    "Outputs (tonne)": {
                        "type": "object",
                        "additionalProperties": { "type": "number" }
                    },
                    "Locations": { "$ref": "#/definitions/PlantLocation" }
                },
                "required": [
                    "Input",
                    "Locations"
                ]
            }
        },
        "PlantLocation": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "properties": {
                    "Latitude (deg)": { "type": "number" },
                    "Longitude (deg)": { "type": "number" },
                    "Disposal": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "object",
                            "properties": {
                                "Cost ($/tonne)": { "$ref": "#/definitions/TimeSeries" },
                                "Limit (tonne)": { "$ref": "#/definitions/TimeSeries" }
                            },
                            "required": [
                                "Cost ($/tonne)"
                            ]
                        }
                    },
                    "Capacities (tonne)": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "object",
                            "properties": {
                                "Variable operating cost ($/tonne)": { "$ref": "#/definitions/TimeSeries" },
                                "Fixed operating cost ($)": { "$ref": "#/definitions/TimeSeries" },
                                "Opening cost ($)": { "$ref": "#/definitions/TimeSeries" }
                            },
                            "required": [
                                "Variable operating cost ($/tonne)",
                                "Fixed operating cost ($)",
                                "Opening cost ($)"
                            ]
                        }
                    }                    
                },
                "required": [
                    "Latitude (deg)",
                    "Longitude (deg)",
                    "Capacities (tonne)"
                ]
            }
        },
        "InitialAmount": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "properties": {
                    "Latitude (deg)": { "type": "number" },
                    "Longitude (deg)": { "type": "number" },
                    "Amount (tonne)": { "$ref": "#/definitions/TimeSeries" }
                },
                "required": [
                    "Latitude (deg)",
                    "Longitude (deg)",
                    "Amount (tonne)"
                ]
            }
        },
        "Product": {
            "type": "object",
            "additionalProperties": {
                "type": "object",
                "properties": {
                    "Transportation cost ($/km/tonne)": { "$ref": "#/definitions/TimeSeries" },
                    "Initial amounts": { "$ref": "#/definitions/InitialAmount" }
                },
                "required": [
                    "Transportation cost ($/km/tonne)"
                ]
            }            
        }
    },
    "type": "object",
    "properties": {
        "Parameters": { "$ref": "#/definitions/Parameters" },
        "Plants": { "$ref": "#/definitions/Plant" },
        "Products": { "$ref": "#/definitions/Product" }
    },
    "required": [
        "Parameters",
        "Plants",
        "Products"
    ]
}