<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Optimization Model · RELOG</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">RELOG</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../usage/">Usage</a></li><li><a class="tocitem" href="../format/">Input and Output Data Formats</a></li><li><a class="tocitem" href="../reports/">Simplified Solution Reports</a></li><li class="is-active"><a class="tocitem" href>Optimization Model</a><ul class="internal"><li><a class="tocitem" href="#Mathematical-Description"><span>Mathematical Description</span></a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Optimization Model</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Optimization Model</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/ANL-CEEESA/RELOG/blob/master/docs/src/model.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Optimization-Model"><a class="docs-heading-anchor" href="#Optimization-Model">Optimization Model</a><a id="Optimization-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Optimization-Model" title="Permalink"></a></h1><p>In this page, we describe the precise mathematical optimization model used by RELOG to find the optimal logistics plan. This model is a variation of the classical Facility Location Problem, which has been widely studied in the operations research literature. To simplify the exposition, we present the simplified case where there is only one type of plant.</p><h2 id="Mathematical-Description"><a class="docs-heading-anchor" href="#Mathematical-Description">Mathematical Description</a><a id="Mathematical-Description-1"></a><a class="docs-heading-anchor-permalink" href="#Mathematical-Description" title="Permalink"></a></h2><h3 id="Sets"><a class="docs-heading-anchor" href="#Sets">Sets</a><a id="Sets-1"></a><a class="docs-heading-anchor-permalink" href="#Sets" title="Permalink"></a></h3><table><tr><th style="text-align: left">Symbol</th><th style="text-align: left">Description</th></tr><tr><td style="text-align: left"><span>$L$</span></td><td style="text-align: left">Set of collection centers holding the primary material to be recycled</td></tr><tr><td style="text-align: left"><span>$M$</span></td><td style="text-align: left">Set of materials recovered during the reverse manufacturing process</td></tr><tr><td style="text-align: left"><span>$P$</span></td><td style="text-align: left">Set of potential plants to open</td></tr><tr><td style="text-align: left"><span>$T = \{ 1, \ldots, t^{max} \}$</span></td><td style="text-align: left">Set of time periods</td></tr></table><h3 id="Constants"><a class="docs-heading-anchor" href="#Constants">Constants</a><a id="Constants-1"></a><a class="docs-heading-anchor-permalink" href="#Constants" title="Permalink"></a></h3><h4 id="Plants"><a class="docs-heading-anchor" href="#Plants">Plants</a><a id="Plants-1"></a><a class="docs-heading-anchor-permalink" href="#Plants" title="Permalink"></a></h4><table><tr><th style="text-align: left">Symbol</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: left"><span>$c^\text{exp}_{pt}$</span></td><td style="text-align: left">Cost of adding one tonne of capacity to plant <span>$p$</span> at time <span>$t$</span></td><td style="text-align: left"><span>$</span>/tonne</td></tr><tr><td style="text-align: left"><span>$c^\text{f-base}_{pt}$</span></td><td style="text-align: left">Fixed cost of keeping plant <span>$p$</span> open during time period <span>$t$</span></td><td style="text-align: left"><span>$</span></td></tr><tr><td style="text-align: left"><span>$c^\text{f-exp}_{pt}$</span></td><td style="text-align: left">Increase in fixed cost for each additional tonne of capacity</td><td style="text-align: left"><span>$</span>/tonne</td></tr><tr><td style="text-align: left"><span>$c^\text{open}_{pt}$</span></td><td style="text-align: left">Cost of opening plant <span>$p$</span> at time <span>$t$</span>, at minimum capacity</td><td style="text-align: left"><span>$</span></td></tr><tr><td style="text-align: left"><span>$c^\text{p-disp}_{pmt}$</span></td><td style="text-align: left">Cost of disposing recovered material <span>$m$</span> at plant <span>$p$</span> during time <span>$t$</span></td><td style="text-align: left"><span>$</span>/tonne/km</td></tr><tr><td style="text-align: left"><span>$c^\text{store}_{pt}$</span></td><td style="text-align: left">Cost of storing primary material at plant <span>$p$</span> at time <span>$t$</span></td><td style="text-align: left"><span>$</span>/tonne</td></tr><tr><td style="text-align: left"><span>$c^\text{proc}_{pt}$</span></td><td style="text-align: left">Variable cost of processing primary material at plant <span>$p$</span> at time <span>$t$</span></td><td style="text-align: left"><span>$</span>/tonne</td></tr><tr><td style="text-align: left"><span>$m^\text{max}_p$</span></td><td style="text-align: left">Maximum capacity of plant <span>$p$</span></td><td style="text-align: left">tonne</td></tr><tr><td style="text-align: left"><span>$m^\text{min}_p$</span></td><td style="text-align: left">Minimum capacity of plant <span>$p$</span></td><td style="text-align: left">tonne</td></tr><tr><td style="text-align: left"><span>$m^\text{init}_p$</span></td><td style="text-align: left">Initial capacity of plant <span>$p$</span></td><td style="text-align: left">tonne</td></tr><tr><td style="text-align: left"><span>$m^\text{p-disp}_{pmt}$</span></td><td style="text-align: left">Maximum amount of recovered material <span>$m$</span> that plant <span>$p$</span> can dispose of during time <span>$t$</span></td><td style="text-align: left">tonne</td></tr><tr><td style="text-align: left"><span>$m^\text{store}_p$</span></td><td style="text-align: left">Maximum amount of primary material that plant <span>$p$</span> can store for later processing.</td><td style="text-align: left">tonne</td></tr></table><h4 id="Products"><a class="docs-heading-anchor" href="#Products">Products</a><a id="Products-1"></a><a class="docs-heading-anchor-permalink" href="#Products" title="Permalink"></a></h4><table><tr><th style="text-align: left">Symbol</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: left"><span>$\alpha_{pm}$</span></td><td style="text-align: left">Amount of material <span>$m$</span> recovered by plant <span>$t$</span> for each tonne of primary material</td><td style="text-align: left">tonne/tonne</td></tr><tr><td style="text-align: left"><span>$c^\text{acq}_{lt}$</span></td><td style="text-align: left">Cost of acquiring primary material at collection center <span>$l$</span> during time <span>$t$</span></td><td style="text-align: left"><span>$</span>/tonne</td></tr><tr><td style="text-align: left"><span>$c^\text{c-disp}_{lt}$</span></td><td style="text-align: left">Cost of disposing primary material at collection center <span>$l$</span> during time <span>$t$</span></td><td style="text-align: left"><span>$</span>/tonne</td></tr><tr><td style="text-align: left"><span>$m^\text{c-disp}_{t}$</span></td><td style="text-align: left">Maximum amount of primary material that can be disposed of across all collection centers during time <span>$t$</span></td><td style="text-align: left">tonne</td></tr><tr><td style="text-align: left"><span>$m^\text{initial}_{lt}$</span></td><td style="text-align: left">Amount of primary material available to be recycled at collection center <span>$l$</span> during time <span>$t$</span></td><td style="text-align: left">tonne</td></tr></table><h4 id="Transportation"><a class="docs-heading-anchor" href="#Transportation">Transportation</a><a id="Transportation-1"></a><a class="docs-heading-anchor-permalink" href="#Transportation" title="Permalink"></a></h4><table><tr><th style="text-align: left">Symbol</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: left"><span>$c^\text{tr}_{t}$</span></td><td style="text-align: left">Cost to transport primary material during time <span>$t$</span></td><td style="text-align: left"><span>$</span>/tonne/km</td></tr><tr><td style="text-align: left"><span>$d_{lp}$</span></td><td style="text-align: left">Distance between plant <span>$p$</span> and collection center <span>$l$</span></td><td style="text-align: left">km</td></tr></table><h3 id="Decision-variables"><a class="docs-heading-anchor" href="#Decision-variables">Decision variables</a><a id="Decision-variables-1"></a><a class="docs-heading-anchor-permalink" href="#Decision-variables" title="Permalink"></a></h3><table><tr><th style="text-align: left">Symbol</th><th style="text-align: left">Description</th><th style="text-align: left">Unit</th></tr><tr><td style="text-align: left"><span>$q_{mpt}$</span></td><td style="text-align: left">Amount of material <span>$m$</span> recovered by plant <span>$p$</span> during time <span>$t$</span></td><td style="text-align: left">tonne</td></tr><tr><td style="text-align: left"><span>$u_{pt}$</span></td><td style="text-align: left">Binary variable that equals 1 if plant <span>$p$</span> starts operating at time <span>$t$</span></td><td style="text-align: left">Boolean</td></tr><tr><td style="text-align: left"><span>$w_{pt}$</span></td><td style="text-align: left">Extra capacity (amount above the minimum) added to plant <span>$p$</span> during time <span>$t$</span></td><td style="text-align: left">tonne</td></tr><tr><td style="text-align: left"><span>$x_{pt}$</span></td><td style="text-align: left">Binary variable that equals 1 if plant <span>$p$</span> is operational at time <span>$t$</span></td><td style="text-align: left">Boolean</td></tr><tr><td style="text-align: left"><span>$y_{lpt}$</span></td><td style="text-align: left">Amount of primary material sent from collection center <span>$l$</span> to plant <span>$p$</span> during time <span>$t$</span></td><td style="text-align: left">tonne</td></tr><tr><td style="text-align: left"><span>$z^{\text{p-disp}}_{mpt}$</span></td><td style="text-align: left">Amount of recovered material <span>$m$</span> disposed of by plant <span>$p$</span> during time <span>$t$</span></td><td style="text-align: left">tonne</td></tr><tr><td style="text-align: left"><span>$z^{\text{c-disp}}_{lt}$</span></td><td style="text-align: left">Amount of primary material disposed of at collection center <span>$l$</span> during time <span>$t$</span></td><td style="text-align: left">tonne</td></tr><tr><td style="text-align: left"><span>$z^{\text{store}}_{pt}$</span></td><td style="text-align: left">Amount of primary material in storage at plant <span>$p$</span> by the end of time period <span>$t$</span></td><td style="text-align: left">tonne</td></tr><tr><td style="text-align: left"><span>$z^{\text{proc}}_{mpt}$</span></td><td style="text-align: left">Amount of primary material processed by plant <span>$p$</span> during time period <span>$t$</span></td><td style="text-align: left">tonne</td></tr></table><h3 id="Objective-function"><a class="docs-heading-anchor" href="#Objective-function">Objective function</a><a id="Objective-function-1"></a><a class="docs-heading-anchor-permalink" href="#Objective-function" title="Permalink"></a></h3><p>RELOG minimizes the overall capital, production and transportation costs:</p><p class="math-container">\[\begin{align*}
    \text{minimize} \;\; &amp;
        \sum_{t \in T} \sum_{p \in P} \left[
                c^\text{open}_{pt} u_{pt} +
                c^\text{f-base}_{pt} x_{pt} +
                c^\text{f-exp}_{pt}  \left( \sum_{i=0}^t w_{pi} \right) +
                c^{\text{exp}}_{pt} w_{pt}
            \right] + \\
    &amp;
        \sum_{t \in T} \sum_{p \in P} \left[
                c^{\text{store}}_{pt} z^{\text{store}}_{pt} +
                c^{\text{proc}}_{pt} z^{\text{proc}}_{pt}
            \right] + \\
    &amp;
        \sum_{t \in T} \sum_{l \in L} \sum_{p \in P}
            c^{\text{tr}}_t d_{lp} y_{lpt} +
        \\
    &amp;
        \sum_{t \in T} \sum_{p \in P} \sum_{m \in M} c^{\text{p-disp}}_{pmt} z_{pmt} +
        \\
    &amp;
        \sum_{t \in T} \sum_{l \in L} c^\text{acq}_{lt} \left(
            m^\text{initial}_{lt} - z^{\text{c-disp}}_{lt}
        \right) + c^\text{c-disp}_{lt} z^{\text{c-disp}}_{lt}
\end{align*}\]</p><p>In the first line, we have (i) opening costs, if plant starts operating at time <span>$t$</span>, (ii) fixed operating costs, if plant is operational, (iii) additional fixed operating costs coming from expansion performed in all previous time periods up to the current one, and finally (iv) the expansion costs during the current time period. In the second line, we have storage and variable processing costs. In the third line, we have transportation costs. In the fourth line, we have disposal costs at the plants. In the fifth line, we have acquisition and disposal cost at the collection centers.</p><h3 id="Constraints"><a class="docs-heading-anchor" href="#Constraints">Constraints</a><a id="Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Constraints" title="Permalink"></a></h3><ul><li>All primary material must either be sent to a plant for processing or disposed of at the collection center:</li></ul><p class="math-container">\[\begin{align*}
    &amp; \sum_{p \in P} y_{lpt} + z^{\text{c-disp}}_{lt} = m^\text{initial}_{lt}
        &amp; \forall l \in L, t \in T
\end{align*}\]</p><ul><li>There is a limit on how much primary material can be disposed of at the collection centers:</li></ul><p class="math-container">\[\begin{align*}
    &amp; \sum_{l \in L} z^{\text{c-disp}}_{lt} \leq m^\text{c-disp}_{t}
        &amp; t \in T
\end{align*}\]</p><ul><li>Amount received equals amount processed plus stored. Furthermore, all primary material should be processed by the end of the simulation.</li></ul><p class="math-container">\[\begin{align*}
    &amp; \sum_{l \in L} y_{lpt} + z^{\text{store}}_{p,t-1}
        = z^{\text{proc}}_{pt} + z^{\text{store}}_{p,t}
        &amp; \forall p \in P, t \in T \\
    &amp; z^{\text{store}}_{p,0} = 0
        &amp; \forall p \in P \\
    &amp; z^{\text{store}}_{p,t^{\max}} = 0
        &amp; \forall p \in P
\end{align*}\]</p><ul><li>Plants have a limited processing capacity. Furthermore, if a plant is closed, it has zero processing capacity:</li></ul><p class="math-container">\[\begin{align*}
    &amp; z^{\text{proc}}_{pt} \leq m^\text{min}_p x_p + \sum_{i=0}^t w_p
        &amp; \forall p \in P, t \in T
\end{align*}\]</p><ul><li>Plants have limited storage capacity. Furthermore, if a plant is closed, is has zero storage capacity:</li></ul><p class="math-container">\[\begin{align*}
    &amp; z^{\text{store}}_{pt} \leq m^\text{store}_p x_p
        &amp; \forall p \in P, t \in T
\end{align*}\]</p><ul><li>Plants can only be expanded up to their maximum capacity. Furthermore, if a plant is closed, it cannot be expanded:</li></ul><p class="math-container">\[\begin{align*}
    &amp; \sum_{i=0}^t w_p \leq \left( m^\text{max}_p - m^\text{min}_p \right) x_p
        &amp; \forall p \in P, t \in T
\end{align*}\]</p><ul><li>Amount of recovered material is proportional to amount processed:</li></ul><p class="math-container">\[\begin{align*}
    &amp; q_{mpt} = \alpha_{pm} z^{\text{proc}}_{pt}
        &amp; \forall m \in M, p \in P, t \in T
\end{align*}\]</p><ul><li>Because we only consider a single type of plant, all recovered material must be immediately disposed of. In RELOG&#39;s full model, recovered materials may be sent to another plant for further processing.</li></ul><p class="math-container">\[\begin{align*}
    &amp; q_{mpt} = z^{\text{p-disp}}_{mpt}
        &amp; \forall m \in M, p \in P, t \in T
\end{align*}\]</p><ul><li>A plant is operational at time <span>$t$</span> if it was operational at time <span>$t-1$</span> or it was built at time <span>$t$</span>. This constraint also prevents a plant from being built multiple times.</li></ul><p class="math-container">\[\begin{align*}
    &amp; x_{pt} = x_{p,t-1} + u_{pt}
        &amp; \forall p \in P, t \in T \\
\end{align*}\]</p><ul><li>Boundary constants:</li></ul><p class="math-container">\[\begin{align*}
    &amp; x_{p,0} = \begin{cases}
        0 &amp; \text{ if } m^\text{init}_p = 0 \\
        1 &amp; \text{ otherwise }
    \end{cases} \\
    &amp; w_{p,0} = \max\left\{0, m^\text{init}_p - m^\text{min}_p \right\}
\end{align*}\]</p><ul><li>Variable bounds:</li></ul><p class="math-container">\[\begin{align*}
    &amp; q_{mpt} \geq 0
        &amp; \forall m \in M, p \in P, t \in T \\
    &amp; u_{pt} \in \{0,1\}
        &amp; \forall p \in P, t \in T \\
    &amp; w_{pt} \geq 0
        &amp; \forall p \in P, t \in T \\
    &amp; x_{pt} \in \{0,1\}
        &amp; \forall p \in P, t \in T \\
    &amp; y_{lpt} \geq 0
        &amp; \forall l \in L, p \in P, t \in T \\
    &amp; z^{\text{c-disp}}_{lt} \geq 0
        &amp; l \in L, t \in T \\
    &amp; z^{\text{store}}_{pt} \geq 0
        &amp; p \in P, t \in T \\
    &amp; z^{\text{p-disp}}_{mpt}, z^{\text{proc}}_{mpt} \geq 0
        &amp; \forall m \in M, p \in P, t \in T
\end{align*}\]</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../reports/">« Simplified Solution Reports</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Thursday 23 February 2023 11:16">Thursday 23 February 2023</span>. Using Julia version 1.8.2.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
